---
id: 9r64p
name: The timer overview
file_version: 1.1.0
app_version: 1.0.6
file_blobs:
  src/components/PomodoroTimer.js: 05f44941bc36b60aedfed453b6000f39cccefbe0
---

This doc gives a high-level overview of our timer.

The main file lives in `游늯 src/components/PomodoroTimer.js`

<br/>

This is the main logic for the pomodoro timer.

Use `yarn dev` to run the timer and head to the homepage.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### 游늯 src/components/PomodoroTimer.js
```javascript
游릴 11     const PomodoroTimer = () => {
游릴 12       const [isPaused, setIsPaused] = useState(true);
游릴 13       const [secondsLeft, setSecondsLeft] = useState(0);
游릴 14     
游릴 15       const secondsLeftRef = useRef(secondsLeft);
游릴 16       const isPausedRef = useRef(isPaused);
游릴 17       const settingsInfo = useContext(SettingsContext);
游릴 18     
游릴 19       const tick = () => {
游릴 20         secondsLeftRef.current--;
游릴 21         setSecondsLeft(secondsLeftRef.current);
游릴 22       };
游릴 23     
游릴 24       useEffect(() => {
游릴 25         function switchMode() {
游릴 26           const nextSeconds = 25 * 60;
游릴 27     
游릴 28           setSecondsLeft(nextSeconds);
游릴 29           secondsLeftRef.current = nextSeconds;
游릴 30         }
游릴 31     
游릴 32         secondsLeftRef.current = 25 * 60;
游릴 33         setSecondsLeft(secondsLeftRef.current);
游릴 34     
游릴 35         let interval = setInterval(() => {
游릴 36           if (isPausedRef.current) {
游릴 37             return;
游릴 38           }
游릴 39           if (secondsLeftRef.current === 0) {
游릴 40             return switchMode();
游릴 41           }
游릴 42     
游릴 43           tick();
游릴 44         }, 1000);
游릴 45     
游릴 46         return () => clearInterval(interval);
游릴 47       }, [settingsInfo]);
游릴 48     
游릴 49       const minutes = Math.floor(secondsLeft / 60);
游릴 50       let seconds = secondsLeft % 60;
游릴 51       if (seconds < 10) seconds = "0" + seconds;
游릴 52     
游릴 53       const startTimer = () => {
游릴 54         setIsPaused(false);
游릴 55         isPausedRef.current = false;
游릴 56       };
游릴 57       const pauseTimer = () => {
游릴 58         setIsPaused(true);
游릴 59         isPausedRef.current = true;
游릴 60       };
游릴 61       return (
游릴 62         <div className="text-center">
游릴 63           <h1 className="text-3xl md:text-4xl font-bold text-[#609541]">
游릴 64             Pomodoro Timer
游릴 65           </h1>
游릴 66           <div className="flex m-auto items-center justify-center mt-8 bg-cover w-64 h-64 rounded-lg bg-[url('./pomodoro.png')]">
游릴 67             <p className="text-white text-3xl pt-6 font-bold">
游릴 68               {minutes}:{seconds === "0" ? "00" : seconds}
游릴 69             </p>
游릴 70           </div>
游릴 71           <div className="flex mt-10 justify-center space-x-4">
游릴 72             <button
游릴 73               onClick={startTimer}
游릴 74               className="py-3 bg-[#dd2d44] w-32 rounded-lg text-[white] font-semibold hover:bg-[#dd2d4475] hover:text-[#dd2d44]"
游릴 75             >
游릴 76               Start
游릴 77             </button>
游릴 78             <button
游릴 79               onClick={pauseTimer}
游릴 80               className="py-3 bg-white w-32 rounded-lg text-[#dd2d44] font-semibold hover:bg-[#dd2d4475]"
游릴 81             >
游릴 82               Pause
游릴 83             </button>
游릴 84           </div>
游릴 85         </div>
游릴 86       );
游릴 87     };
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBcG9tb2Rvcm8tYXBwJTNBJTNBa2hyaXN0aW5hc2Fy/docs/9r64p).
